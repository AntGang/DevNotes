**为什么数据库不用二叉平衡树，红黑树，b树**

1. 二叉平衡树:插入删除效率低，维护的耗费远大于带来的收益
2. 红黑树：虽然相对平衡，但是深度较深，io次数过多，影响效率
3. b树：每个节点可以存很多个索引，也可以存数据，但是对区间查询效果不好，还得回溯，并且每个节点的访问耗费不一致
4. b+树，非叶子节点只存储索引，叶子节点存储数据，每个数据的访问效率一致，且因为叶子间是链表结构，因此支持范围查询



**聚簇索引，非聚簇索引，hash索引的区别**

聚簇索引，是innodb采取的索引结构，以数据库表的主键为key（数据库数据物理磁盘是连续存放的，如果按key递增，就可以实现索引的数据连续存放），每个叶子节点存放data。非主键索引均为非聚簇索引，叶子节点的值均为主键，查询到主键再回到聚簇索引查询行，称为回表查询

非聚簇索引是myisam采取的索引结构，每个叶子节点存放地址

hash索引，把每一列的值进行hash，不适合范围查询模糊查询，适合单列查询

**最左匹配原则**

从左至右，匹配，遇到范围查询或模糊查询就停止，必须按照顺序依次来，不然不走索引



**什么时候需要加索引**

1. 在经常被查询的列上加索引
2. 在关联查询的关联列上加索引
3. 在条件列上加索引
4. 在需要排序的列上加索引

**innodb和myisam的区别**

1. innodb支持事务，myisam不支持
2. MyISAM适合查询以及插入为主的应用，InnoDB适合频繁修改以及涉及到安全性较高的应用
3. innodb支持外键，myisam不支持
4. innodb需要扫描表来计算有多少行，myisam不需要
5. 对于自增长字段，innodb必须包含只含有该列的索引，myisam可以和其他一起组成联合索引
6. innodb支持行锁，myisam不支持